<% @layout.each_with_index do |col, index| %>
    <div class='col_<%= index %>'>
        <% col.each_with_index do |elem, index| %>
        <% p = elem.last %>
        <div class='image_box' id='image_<%=index%>'>
            <%= image_tag(p.photo_url, :class => "big_img image_#{elem.last.id} drop-shadow curved curved-hz-1 curved_image image", :style => "width:#{elem[1]}px" ) %>
            <div class='description_box' id='description_<%=index%>' >
                <span class='description_text'>
                    <%= p.description %>, <%= p.likes %>, <%= p.comments %>, <%= p.social_network %>
                </span>
            </div>
        </div>
    
        <% end %>
    </div>
<% end %>


<script>
$(".image_box").hover(
  function () {
	  var index = $(this).attr("id").split("_")[1];
    // $(this).append($("<span> ***</span>"));
		$("#description_"+index).show();
		
  }, 
  function () {
		var index = $(this).attr("id").split("_")[1];
    // $(this).find("span:last").remove();
  }
);

</script>